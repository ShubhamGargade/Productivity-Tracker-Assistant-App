<!DOCTYPE html>
<html>
<head>
	<title>Hidden Worker</title>
	<script src="constants.js" charset="utf-8"></script>
	<script src="initializeDb.js" type="text/javascript"></script>
</head>
<body>
</body>
<script type="text/javascript" defer>
	// const { ipcRenderer } = require('electron');

	//Website Software tracking Object
	const { showDataToWebSoftReport } = require("./webSoftDetails");
	const saveLocalData = require("./saveLocalData");
	// const { ipcRenderer } = require("electron");

	var saveLocalDataObj = null;

	console.log('settings path----------------',settings.file());
	function startListeningToNewData(){
		const web = 'w';
		var webObj = new showDataToWebSoftReport(web);
		//software tracking
		const soft = 's';
		var softObj = new showDataToWebSoftReport(soft);
	}

	firebase.auth().onAuthStateChanged(function(user) {
	  if (user) {

			saveLocalDataObj = new saveLocalData.SaveLocalData(user.uid);

	  	startListeningToNewData();
			console.log('User found:',user.uid);
	  }
	});


	ipcRenderer.on('tracking', (event, message) => {
			if(saveLocalDataObj != null){
				saveLocalDataObj.updateLtd();
			}else {
				console.log("saveLocalDataObj is null")
			}

  });




</script>
</html>
